<!DOCTYPE html>
<html>
<head>
	<title>FireSensor</title>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="style.css">

</head>
<body>
	<div id="title"> Fire Sensing1816 </div>
	<div class="FireSensor">
		<span>
			馬達開關
		</span>
		<span id="tf"></span>
	</div>
	<div class="firesensor">
			<span>火</span>
		<span id="fireA"></span>
		<span>溫度</span>
		<span id="tempA"></span>
		<span>濕度</span>
		<span id="humiA"></span>
		<span>
			<img src="img/FireSensor.png" alt="">;
		</span>
	</div>
</body>

<script>
	var fire;
	var temp ;
	var humi ;
	setup();
	function setup() {
		if (cpf) {
			cpf.setPinMode('["resetPin"],["setPinMode", "digital", 7,"DHT11"],["setPinMode", "digital", 5,"INPUT"],["setPinMode","digital", 7, "OUTPUT"]')
		}
	}
	function loop() {
		if (cpf) {
			fire = cpf.get("d5");
			document.getElementById("fireA").innerHTML = fire;
			cpf.get("DHT11","d7","dht11temp");
			document.getElementById("tempA").innerHTML = temp;
			cpf.get("DHT11","d7","dht11humi");
			document.getElementById("humiA").innerHTML = humi;
			console.log(fire);
			if (fire == 50) {
				cpf.request('["digitalWrite", 7, 1]');
			}
			else {
				cpf.request('["digitalWrite", 7, 0]');
			}
		}
		setTimeout(loop, 1000);
	}
	loop();
</script>

</html>